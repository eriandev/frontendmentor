---
import Icon from 'shared/components/Icon.astro'

interface Props {
  user: string
  text: string
  amount: string
  variation: number
  social: 'facebook' | 'twitter' | 'instagram' | 'youtube'
}

const { amount, social, text, user, variation } = Astro.props

const isUp = variation >= 0
const cardBeforeClass =
  'before:absolute before:left-0.5 before:right-0.5 before:top-0 before:block before:h-1 before:rounded-t-3xl'
---

<article
  class:list={[
    'transition-standard bg-light-gray-blue dark:bg-dark-desa-blue relative w-full rounded-lg py-8 text-center',
    cardBeforeClass,
    social,
  ]}
>
  <header class="flex items-center justify-center">
    <Icon name={'icon-' + social} size={20} class="inline" />
    <h3 class="text-desa-blue px-2 font-bold">{user}</h3>
  </header>

  <section class="py-6">
    <span class="block py-1 text-6xl font-bold leading-none dark:text-white">{amount}</span>
    <span class="text-desa-blue uppercase tracking-[0.4em]">{text}</span>
  </section>

  <footer class="flex items-center justify-center gap-x-1">
    <Icon name={'icon-' + (isUp ? 'up' : 'down')} size={8} class="inline" />
    <span class:list={['font-bold', { 'text-lime-green': isUp, 'text-bright-red': !isUp }]}>
      {Math.abs(variation)} Today
    </span>
  </footer>
</article>
